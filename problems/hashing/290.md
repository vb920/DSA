# 290. Word Pattern

ğŸ” Iteration 1

**Pattern:** Hashing / Bijection

**Difficulty:** Easy

**Time:** 11m

**Solo:** N â€” missed the twoâ€‘way/bucket encoding trick

### ğŸ§  Core Logic

*   **The Trick:** enforce a **bijection** between pattern chars and words â€” either with **two hash maps** (charâ†’word and wordâ†’char) or by comparing **firstâ€‘occurrence signatures** of both sequences.
*   **Execution:**
    1.  split `s` into words (use `\\s+` to handle multiple spaces); if `words.length != pattern.length()` â†’ return `false`
    2.  for each index `i`:
        *   if `p2w` has `pattern[i]`, it must equal `words[i]`
        *   if `w2p` has `words[i]`, it must equal `pattern[i]`
        *   otherwise insert both mappings
    3.  if no conflicts arise, return `true`
    *   **(Alt) Signature method:** assign each **new** symbol its first index (`'a'â†’0, 'b'â†’1, â€¦` and `"dog"â†’0, "cat"â†’1, â€¦`); the two sequences match iff their index-signatures match.
*   **Complexity:**

Time `O(n)` (single pass; hashmap ops amortized `O(1)`)

Space `O(k + m)` (distinct pattern chars + distinct words)

### ğŸš¨ Traps & Bugs

*   **Edge Case:** multiple spaces in `s` â†’ `split(" ")` yields empty tokens; use `split("\\s+")` (and maybe `trim()`).
*   **Bijection requirement:** must check **both directions**; `containsValue` is `O(n)` per call â€” use a **second map** (`wordâ†’char`) instead.
*   **My Bugs:** used `mp.containsValue(strs[i])` causing worstâ€‘case `O(n^2)`; missed `\\s+` split which can break on extra spaces.

### ğŸ¤ 1-Sentence Pitch

*   â€œMaintain a **twoâ€‘way mapping** (charâ†”word) or compare **firstâ€‘occurrence signatures** to enforce bijection in **linear time**.â€
