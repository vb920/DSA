# 1249. Minimum Remove to Make Valid Parentheses

ğŸ” **Iteration 1**

**Pattern:** Stack / Index marking  
**Difficulty:** Medium  
**Time:** 10m  
**Solo:** Y optimal

### ğŸ§  Core Logic

*   **The Trick:** Track indices of unmatched `'('` on a stack; when you see `')'`, pop if available, otherwise **mark** this `')'` for removal. After the scan, any indices left in the stack are extra `'('`â€”**mark** them too. Finally, build the answer skipping marked chars.
*   **Execution:**
    1.  Scan `s` with a mutable buffer (`sb`), push index on `'('`.
    2.  On `')'`: if stack nonâ€‘empty, pop (matched); else mark this `')'` (e.g., set to `'*'`).
    3.  After loop, mark remaining stack indices (`'('`) as `'*'`.
    4.  Build result by skipping `'*'`.
*   **Complexity:**  
    Time `O(N)`  
    Space `O(N)` (indices or output buffer)

### ğŸš¨ Traps & Bugs

*   **Regex overhead:** `replaceAll("\\*", "")` is regex-based; faster to **filter** into a new `StringBuilder` skipping `'*'`.
*   **Data structure:** Prefer `ArrayDeque<Integer>` over legacy `Stack`.
*   **Length consistency:** Use `sb.length()` for iteration if you mutate characters (you did not change length, so itâ€™s fine).
*   **API semantics:** `st.add(i)` works, but `push(i)` expresses intent.

### ğŸ¤ 1â€‘Sentence Pitch

Match parentheses with an index stack, mark the invalid ones in one pass, and emit only valid charactersâ€”linear time, linear space, and guaranteed unique result.
