# 1190. Reverse Substrings Between Each Pair of Parentheses

ğŸ” Iteration 1

**Pattern:** Stack

**Difficulty:** Medium

**Time:** 10m

**Solo:** Y optimal

### ğŸ§  Core Logic

*   **The Trick:** use a **character stack**; on `')'`, **pop until `'('`** to collect the segment, then **push that collected segment back**â€”because it was popped in reverse order, pushing it forward **implicitly reverses** the substring inside the parentheses.
*   **Execution:**
    1.  iterate chars of `s`
    2.  if char is not `')'` â†’ **push** onto stack
    3.  if char is `')'` â†’
        *   **pop** until `'('`, appending to a temporary `seg` (this yields the segment **reversed** relative to original)
        *   **pop** the `'('`
        *   **push** `seg`â€™s characters back to the stack (in leftâ†’right order), which keeps them reversed in the overall sequence
    4.  after scan, **pop all** from stack into a builder and **reverse** once to form the final string
*   **Complexity:**

Time `O(n)`

Space `O(n)`

### ğŸš¨ Traps & Bugs

*   **Edge Case:** nested parentheses are handled naturally (inner segments get reversed first); inputs are balanced per problem, so no stray `'('`/`')'`.
*   **My Bugs:** initially â€œmissing the reverse stepâ€; fixed by realizing that **pop-then-push** performs the reversal implicitlyâ€”no explicit `reverse()` is needed inside the loop. Consider `ArrayDeque<Character>` over legacy `Stack`.

### ğŸ¤ 1-Sentence Pitch

*   â€œPush chars and, on each `')'`, pop to `'('` and push back the popped segmentâ€”pop/push symmetry performs the needed reversal in linear time.â€
